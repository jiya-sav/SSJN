---
layout: default
permalink: /input emotion/
title: Input Emotion
search_exclude: true
---

Enter one of the following emotions into the box: 
<ul>
  <li>Melancholy</li>
  <li>Joy</li>
  <li>Rage</li>
</ul>

<form onsubmit="return false">
  <!-- On Enter the Input box was getting cleared. So added onsubmit=return false-->
    <label for="emotion">Feeling Emotional?:</label><br>
    <input type="text" id="emotion" name="emotion"><br>
    <button id="runAPI" onclick="getSongs()">Get Songs</button>
    <!-- <input type="submit" value="generate songs"> -->
    <p>Song For You:</p>
    <p id="song"></p>
  </form>

  <script>
   
   function getSongs(){
    //document.getElementById("emotion").value = emotion;
   var type = document.getElementById("emotion").value;
   if(type=='Joy' || type == 'Happy' || type== 'Elated'){
    document.getElementById("song").innerHTML = (GetRandom(happy));
     }
   else if(type=='Melancholy' || type=='sad'){
    document.getElementById("song").innerHTML = (GetRandom(sad));
      }
      
   }

   var emotion = document.getElementById("emotion").value;
  
  const url = "https://ssjn.nighthawkcodescrums.gq/api/song/";
  
  
  
  var sad=[];
  var happy=[];
  // fetch - used to GET value from API
   const response = fetch(url, {
    method: "GET",
    headers: { "Content-Type": "application/json" },
    mode: "cors",
    cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached
    credentials: 'omit' // include, *same-origin, omit
  }).then(response=> 
    response.json().then(
      data => {
          console.log(data);
          data.forEach((item) => {
  console.log('ID: ' + item.id);
  console.log('Happy: ' + item.happy);
  console.log('Sad: ' + item.sad);
  console.log('Song: ' + item.song);
  if(item.happy > item.sad){
    happy.push(item.song);
  }
  if(item.sad > item.happy){
    sad.push(item.song);
  }
});
    
    console.log(happy);
    console.log(sad);
       //document.getElementById("song").innerHTML = JSON.stringify(data);
       getSongs();
    
    }));
  
  

function GetRandom(arr)
{
  var rI = Math.floor(Math.random() * arr.length); 
  var rE  = arr[rI];
  return rE;
}
   
  </script>
